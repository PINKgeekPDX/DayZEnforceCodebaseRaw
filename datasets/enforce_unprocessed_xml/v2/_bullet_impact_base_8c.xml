<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.7" xml:lang="en-US">
  <compounddef id="_bullet_impact_base_8c" kind="file" language="C++">
    <compoundname>BulletImpactBase.c</compoundname>
    <innerclass refid="class_eff_bullet_impact_base" prot="public">EffBulletImpactBase</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="class_eff_bullet_impact_base" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_eff_bullet_impact_base" kindref="compound">EffBulletImpactBase</ref><sp/>:<sp/><ref refid="class_effect_particle" kindref="compound">EffectParticle</ref></highlight></codeline>
<codeline lineno="2"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3" refid="class_eff_bullet_impact_base_1a4c62775882b556f802d74999ea9cd71d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a4c62775882b556f802d74999ea9cd71d" kindref="member">SURVIVOR_HEAD</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Head<sp/>component</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4" refid="class_eff_bullet_impact_base_1a23cda262cf7c0ee20137f7f7cd3ed832" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a23cda262cf7c0ee20137f7f7cd3ed832" kindref="member">INFECTED_HEAD</ref><sp/>=<sp/>3;<sp/></highlight><highlight class="comment">//<sp/>Head<sp/>component</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="class_eff_bullet_impact_base_1ab117212103bc2e3ae931d27879d52db3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1ab117212103bc2e3ae931d27879d52db3" kindref="member">DEFAULT_PROJECTILE_WEIGHT</ref><sp/>=<sp/>0.015;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="7" refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>=<sp/>0.1;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="9" refid="class_eff_bullet_impact_base_1aba28c57a5c434cc91f1b8d57885a5f88" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_object" kindref="compound">Object</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1aba28c57a5c434cc91f1b8d57885a5f88" kindref="member">m_DirectHit</ref>;</highlight></codeline>
<codeline lineno="10" refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref>;</highlight></codeline>
<codeline lineno="11" refid="class_eff_bullet_impact_base_1ada07e8f3494ac184a81451f89fcd5296" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1ada07e8f3494ac184a81451f89fcd5296" kindref="member">m_Weight</ref>;<sp/></highlight><highlight class="comment">//<sp/>projectile<sp/>weight<sp/>in<sp/>kg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="class_eff_bullet_impact_base_1a09243023bb2daaf3c09c3c781b71b33a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a09243023bb2daaf3c09c3c781b71b33a" kindref="member">m_ImpactType</ref>;</highlight></codeline>
<codeline lineno="13" refid="class_eff_bullet_impact_base_1a56314704297aa1a71c1df792f955e741" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a56314704297aa1a71c1df792f955e741" kindref="member">m_ComponentIndex</ref>;</highlight></codeline>
<codeline lineno="14" refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref>;</highlight></codeline>
<codeline lineno="15" refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref>;</highlight></codeline>
<codeline lineno="16" refid="class_eff_bullet_impact_base_1a3c93a351aba15589abb820eb72fb3305" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a3c93a351aba15589abb820eb72fb3305" kindref="member">m_ExitPos</ref>;</highlight></codeline>
<codeline lineno="17" refid="class_eff_bullet_impact_base_1afe16a8df96c10885dd2dea493ffaf234" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1afe16a8df96c10885dd2dea493ffaf234" kindref="member">m_InSpeed</ref>;</highlight></codeline>
<codeline lineno="18" refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" kindref="member">m_OutSpeed</ref>;</highlight></codeline>
<codeline lineno="19" refid="class_eff_bullet_impact_base_1a0da9980e666b8070ef1fae941f694cb6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a0da9980e666b8070ef1fae941f694cb6" kindref="member">m_AmmoType</ref>;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="21" refid="class_eff_bullet_impact_base_1a27738a12b61b0144a61c024903a50f55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/><ref refid="class_eff_bullet_impact_base_1a27738a12b61b0144a61c024903a50f55" kindref="member">INVALID</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;0<sp/>0<sp/>0&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Particle<sp/>Effects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="class_eff_bullet_impact_base_1a9130cfa8528e369931fd03524872f607" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a9130cfa8528e369931fd03524872f607" kindref="member">m_ParticleEnter</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="25" refid="class_eff_bullet_impact_base_1a70a6502225c2e94c703c5a9c56d1deda" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a70a6502225c2e94c703c5a9c56d1deda" kindref="member">m_ParticleExit</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="26" refid="class_eff_bullet_impact_base_1a760651af62198c83ed6b4ef33b0c5134" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a760651af62198c83ed6b4ef33b0c5134" kindref="member">m_ParticleRicochet</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29" refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref><sp/>=<sp/>0.003;</highlight></codeline>
<codeline lineno="30" refid="class_eff_bullet_impact_base_1ab75bfede5d9820a767aa96aa8535ca3a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1ab75bfede5d9820a767aa96aa8535ca3a" kindref="member">m_ExitSplashCoef</ref><sp/>=<sp/>0.002;</highlight></codeline>
<codeline lineno="31" refid="class_eff_bullet_impact_base_1af6312eaa09499b7dc2d47402d38e84fb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1af6312eaa09499b7dc2d47402d38e84fb" kindref="member">m_RicochetSplashCoef</ref><sp/>=<sp/>0.002;</highlight></codeline>
<codeline lineno="32" refid="class_eff_bullet_impact_base_1afc3e1b72cb2709262ed674dc55d7fd27" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1afc3e1b72cb2709262ed674dc55d7fd27" kindref="member">m_EnterAngledSplashCoef</ref><sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="33" refid="class_eff_bullet_impact_base_1a8b1d698f7d0101fc837a083fd929a499" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a8b1d698f7d0101fc837a083fd929a499" kindref="member">m_AngledEnter</ref><sp/>=<sp/>0.40;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="35" refid="class_eff_bullet_impact_base_1a941f83c83291afd6bd7cc3e47befd0e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a941f83c83291afd6bd7cc3e47befd0e1" kindref="member">EffBulletImpactBase</ref>()</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="40" refid="class_eff_bullet_impact_base_1a20ca49e3ed1b44b857782c8ceea8e9b4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a20ca49e3ed1b44b857782c8ceea8e9b4" kindref="member">OnCheckUpdate</ref>()</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//DbgUI.Text(<sp/>m_ammoType<sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="45" refid="class_eff_bullet_impact_base_1a52d3a64b754ef643bf0e6c7245d9b024" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a52d3a64b754ef643bf0e6c7245d9b024" kindref="member">SetEnterParticle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a9130cfa8528e369931fd03524872f607" kindref="member">m_ParticleEnter</ref><sp/>=<sp/>id;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="50" refid="class_eff_bullet_impact_base_1a3abaab42a9c169537f1bcadbbc9cbede" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a3abaab42a9c169537f1bcadbbc9cbede" kindref="member">SetExitParticle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a70a6502225c2e94c703c5a9c56d1deda" kindref="member">m_ParticleExit</ref><sp/>=<sp/>id;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="55" refid="class_eff_bullet_impact_base_1aaff894f60e4e17ff15d3d31014f07200" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1aaff894f60e4e17ff15d3d31014f07200" kindref="member">SetRicochetParticle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a760651af62198c83ed6b4ef33b0c5134" kindref="member">m_ParticleRicochet</ref><sp/>=<sp/>id;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="60" refid="class_eff_bullet_impact_base_1a2478901ae483c57515583c6a5505933a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a2478901ae483c57515583c6a5505933a" kindref="member">SetSingleParticle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a52d3a64b754ef643bf0e6c7245d9b024" kindref="member">SetEnterParticle</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a3abaab42a9c169537f1bcadbbc9cbede" kindref="member">SetExitParticle</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1aaff894f60e4e17ff15d3d31014f07200" kindref="member">SetRicochetParticle</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="67" refid="class_eff_bullet_impact_base_1a562187bb57d12b2011cd9cac18f66b6a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a562187bb57d12b2011cd9cac18f66b6a" kindref="member">SetAngledEnterValue</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>f)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a8b1d698f7d0101fc837a083fd929a499" kindref="member">m_AngledEnter</ref><sp/>=<sp/>f;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="72" refid="class_eff_bullet_impact_base_1a7bb5042b2cf7c20f343db655ae48bc54" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a7bb5042b2cf7c20f343db655ae48bc54" kindref="member">EvaluateEffect</ref>(<ref refid="class_object" kindref="compound">Object</ref><sp/>directHit,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>componentIndex,<sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>pos,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>impact_type,<sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>surfNormal,<sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>exitPos,<sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>inSpeed,<sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>outSpeed,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>ammoType)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1aba28c57a5c434cc91f1b8d57885a5f88" kindref="member">m_DirectHit</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>directHit;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>pos;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a09243023bb2daaf3c09c3c781b71b33a" kindref="member">m_ImpactType</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>impact_type;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a56314704297aa1a71c1df792f955e741" kindref="member">m_ComponentIndex</ref><sp/><sp/><sp/><sp/>=<sp/>componentIndex;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>surfNormal;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a3c93a351aba15589abb820eb72fb3305" kindref="member">m_ExitPos</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>exitPos;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1afe16a8df96c10885dd2dea493ffaf234" kindref="member">m_InSpeed</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>inSpeed;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" kindref="member">m_OutSpeed</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>outSpeed;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a0da9980e666b8070ef1fae941f694cb6" kindref="member">m_AmmoType</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ammoType;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1ada07e8f3494ac184a81451f89fcd5296" kindref="member">m_Weight</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1a2190cab249d936d9e483976542ea7cfa" kindref="member">ConfigGetFloat</ref>(</highlight><highlight class="stringliteral">&quot;CfgAmmo<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>ammoType<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>weight&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a02ea1eadb440de8d08978f819a0f5096" kindref="member">CalculateStoppingForce</ref>(<ref refid="class_eff_bullet_impact_base_1afe16a8df96c10885dd2dea493ffaf234" kindref="member">m_InSpeed</ref>.<ref refid="classvector_1a24d56d6a43e63b3b06307c08a47658d1" kindref="member">Length</ref>(),<sp/><ref refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" kindref="member">m_OutSpeed</ref>.<ref refid="classvector_1a24d56d6a43e63b3b06307c08a47658d1" kindref="member">Length</ref>(),<sp/>ammoType,<sp/><ref refid="class_eff_bullet_impact_base_1ada07e8f3494ac184a81451f89fcd5296" kindref="member">m_Weight</ref>);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="88" refid="class_eff_bullet_impact_base_1a02ea1eadb440de8d08978f819a0f5096" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a02ea1eadb440de8d08978f819a0f5096" kindref="member">CalculateStoppingForce</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>in_speedf,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>out_speedf,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>ammoType,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>weight)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="class_eff_bullet_impact_base_1a09243023bb2daaf3c09c3c781b71b33a" kindref="member">m_ImpactType</ref><sp/>==<sp/><ref refid="_impact_effects_8c_1aed11197d78b210965b9ae9cc67703b99" kindref="member">ImpactTypes</ref>.MELEE<sp/>)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_math" kindref="compound">Math</ref>.<ref refid="group___math_1ga892ecb1375c9b373969273223a5841f3" kindref="member">RandomFloat</ref>(50,<sp/>100);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>projectile_weight_coef<sp/>=<sp/>weight<sp/>/<sp/><ref refid="class_eff_bullet_impact_base_1ab117212103bc2e3ae931d27879d52db3" kindref="member">DEFAULT_PROJECTILE_WEIGHT</ref>;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>stopping_force<sp/>=<sp/>(in_speedf<sp/>-<sp/>out_speedf)<sp/>*<sp/>projectile_weight_coef;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stopping_force;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="102" refid="class_eff_bullet_impact_base_1a38e79ddf0f342b2c864141866f993c97" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a38e79ddf0f342b2c864141866f993c97" kindref="member">OnEnterCalculations</ref>(<sp/><ref refid="class_particle" kindref="compound">Particle</ref><sp/>p<sp/>)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>All<sp/>values<sp/>represent<sp/>scale</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_min<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_max<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>size<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref>);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>birth_rate<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref>);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>air_resistance<sp/><sp/><sp/><sp/>=<sp/>velocity_min;</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>lifetime<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref>);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>lifetime_rnd<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1a6d83d6128d28bfe23e4529a7e6fa732e" kindref="member">m_EnterSplashCoef</ref>);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="class_eff_bullet_impact_base_1a0da9980e666b8070ef1fae941f694cb6" kindref="member">m_AmmoType</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Bullet_12GaugePellets&quot;</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>birth_rate<sp/>*=<sp/>0.5;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_min<sp/>*=<sp/>2;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_max<sp/>*=<sp/>2;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(velocity_min<sp/>&lt;<sp/>0.75)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_min<sp/>=<sp/>0.75;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size<sp/>&lt;<sp/>0.75)</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size<sp/>=<sp/>0.75;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lifetime<sp/>&lt;<sp/>0.5)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lifetime<sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lifetime_rnd<sp/>&lt;<sp/>0.5)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lifetime_rnd<sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(velocity_max<sp/>&lt;<sp/>1)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_max<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*Print(&quot;===============&quot;);</highlight></codeline>
<codeline lineno="137"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(velocity_min);</highlight></codeline>
<codeline lineno="138"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(velocity_max);</highlight></codeline>
<codeline lineno="139"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(size);</highlight></codeline>
<codeline lineno="140"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(birth_rate);</highlight></codeline>
<codeline lineno="141"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(air_resistance);</highlight></codeline>
<codeline lineno="142"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(lifetime);</highlight></codeline>
<codeline lineno="143"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Print(lifetime_rnd);*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY,<sp/>velocity_min);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY_RND,<sp/>velocity_max);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.SIZE,<sp/>size);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.BIRTH_RATE,<sp/>birth_rate);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.AIR_RESISTANCE,<sp/>air_resistance);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.AIR_RESISTANCE_RND,<sp/>air_resistance);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.LIFETIME,<sp/>lifetime);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.LIFETIME_RND,<sp/>lifetime_rnd);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="155" refid="class_eff_bullet_impact_base_1a82d55850e109b39ea611b011b61dfa6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a82d55850e109b39ea611b011b61dfa6c" kindref="member">OnExitCalculations</ref>(<ref refid="class_particle" kindref="compound">Particle</ref><sp/>p,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>outSpeedf)</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_min<sp/>=<sp/>1<sp/>+<sp/>(outSpeedf<sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1ab75bfede5d9820a767aa96aa8535ca3a" kindref="member">m_ExitSplashCoef</ref>);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_max<sp/>=<sp/>1<sp/>+<sp/>(outSpeedf<sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1ab75bfede5d9820a767aa96aa8535ca3a" kindref="member">m_ExitSplashCoef</ref>);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>size<sp/>=<sp/>1<sp/>+<sp/>(<sp/>outSpeedf<sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1ab75bfede5d9820a767aa96aa8535ca3a" kindref="member">m_ExitSplashCoef</ref>);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>birth_rate<sp/>=<sp/>1<sp/>+<sp/>(outSpeedf<sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1ab75bfede5d9820a767aa96aa8535ca3a" kindref="member">m_ExitSplashCoef</ref>);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(velocity_min<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_min<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(birth_rate<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>birth_rate<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY,<sp/>velocity_min);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY_RND,<sp/>velocity_max);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.SIZE,<sp/>size);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.BIRTH_RATE,<sp/>birth_rate);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="177" refid="class_eff_bullet_impact_base_1aa40f3c16301b760a1af0da25a40704c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1aa40f3c16301b760a1af0da25a40704c9" kindref="member">OnRicochetCalculations</ref>(<ref refid="class_particle" kindref="compound">Particle</ref><sp/>p,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>outspeedf)</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_min<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1af6312eaa09499b7dc2d47402d38e84fb" kindref="member">m_RicochetSplashCoef</ref>);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_max<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1af6312eaa09499b7dc2d47402d38e84fb" kindref="member">m_RicochetSplashCoef</ref>);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>size<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<sp/><ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1af6312eaa09499b7dc2d47402d38e84fb" kindref="member">m_RicochetSplashCoef</ref>);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>birth_rate<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1af6312eaa09499b7dc2d47402d38e84fb" kindref="member">m_RicochetSplashCoef</ref>);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(velocity_min<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_min<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(birth_rate<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>birth_rate<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY,<sp/>velocity_min);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY_RND,<sp/>velocity_max);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.SIZE,<sp/>size);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.BIRTH_RATE,<sp/>birth_rate);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="199" refid="class_eff_bullet_impact_base_1a15310d1560480f29e49171a6bc4484de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a15310d1560480f29e49171a6bc4484de" kindref="member">OnEnterAngledCalculations</ref>(<ref refid="class_particle" kindref="compound">Particle</ref><sp/>p)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_min<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1afc3e1b72cb2709262ed674dc55d7fd27" kindref="member">m_EnterAngledSplashCoef</ref>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity_max<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1afc3e1b72cb2709262ed674dc55d7fd27" kindref="member">m_EnterAngledSplashCoef</ref>);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>size<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1afc3e1b72cb2709262ed674dc55d7fd27" kindref="member">m_EnterAngledSplashCoef</ref>);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>birth_rate<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref><sp/>+<sp/>(<ref refid="class_eff_bullet_impact_base_1a643ce3fe6def07ad275f3540272dcba5" kindref="member">m_StoppingForce</ref><sp/>*<sp/><ref refid="class_eff_bullet_impact_base_1afc3e1b72cb2709262ed674dc55d7fd27" kindref="member">m_EnterAngledSplashCoef</ref>);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(velocity_min<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_min<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(birth_rate<sp/>&lt;<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>birth_rate<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1ae542890f18ea957064915cc5ad0521c1" kindref="member">MIN_SCALING_PARAM</ref>;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY,<sp/>velocity_min);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.VELOCITY_RND,<sp/>velocity_max);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.SIZE,<sp/>size);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.BIRTH_RATE,<sp/>birth_rate);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="221" refid="class_eff_bullet_impact_base_1a70a855374c984d73f056a2d034bff727" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_eff_bullet_impact_base_1a70a855374c984d73f056a2d034bff727" kindref="member">Event_OnStarted</ref>()</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_particle" kindref="compound">Particle</ref><sp/>p;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>particle_orientation;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>outSpeedf<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" kindref="member">m_OutSpeed</ref>.<ref refid="classvector_1a24d56d6a43e63b3b06307c08a47658d1" kindref="member">Length</ref>();</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_particle_manager_8c_1a93ef360e8fc315d276eb8cc256dc3ef8" kindref="member">ParticleManager</ref><sp/>gPM<sp/>=<sp/><ref refid="_particle_manager_8c_1a93ef360e8fc315d276eb8cc256dc3ef8" kindref="member">ParticleManager</ref>.GetInstance();</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="class_eff_bullet_impact_base_1a09243023bb2daaf3c09c3c781b71b33a" kindref="member">m_ImpactType</ref><sp/>==<sp/><ref refid="_impact_effects_8c_1aed11197d78b210965b9ae9cc67703b99" kindref="member">ImpactTypes</ref>.RICOCHET<sp/>)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>gPM.<ref refid="class_particle_1a5ec6964f64d31b2672001e99655ea8a0" kindref="member">PlayInWorld</ref>(<ref refid="class_eff_bullet_impact_base_1a760651af62198c83ed6b4ef33b0c5134" kindref="member">m_ParticleRicochet</ref>,<sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref>);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p)</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" kindref="member">m_OutSpeed</ref>.<ref refid="classvector_1aed751dee971a2a172f3052c68f607111" kindref="member">VectorToAngles</ref>();</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/>particle_orientation<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;0<sp/>-90<sp/>0&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.SetOrientation(particle_orientation);</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1aa40f3c16301b760a1af0da25a40704c9" kindref="member">OnRicochetCalculations</ref>(p,<sp/>outSpeedf);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>gPM.<ref refid="class_particle_1a5ec6964f64d31b2672001e99655ea8a0" kindref="member">PlayInWorld</ref>(<ref refid="class_eff_bullet_impact_base_1a9130cfa8528e369931fd03524872f607" kindref="member">m_ParticleEnter</ref>,<sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref><sp/>);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p)</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref><sp/>!=<sp/><ref refid="class_eff_bullet_impact_base_1a27738a12b61b0144a61c024903a50f55" kindref="member">INVALID</ref>)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref>.<ref refid="classvector_1aed751dee971a2a172f3052c68f607111" kindref="member">VectorToAngles</ref>();</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/>particle_orientation<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;0<sp/>270<sp/>0&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;0<sp/>0<sp/>0&quot;</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>This<sp/>vector<sp/>is<sp/>in<sp/>angles</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.SetOrientation(particle_orientation);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a38e79ddf0f342b2c864141866f993c97" kindref="member">OnEnterCalculations</ref>(p);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(outSpeedf<sp/>&gt;<sp/>0<sp/><sp/>&amp;&amp;<sp/><sp/><ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref><sp/>!=<sp/><ref refid="class_eff_bullet_impact_base_1a27738a12b61b0144a61c024903a50f55" kindref="member">INVALID</ref>)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>gPM.<ref refid="class_particle_1a5ec6964f64d31b2672001e99655ea8a0" kindref="member">PlayInWorld</ref>(<ref refid="class_eff_bullet_impact_base_1a70a6502225c2e94c703c5a9c56d1deda" kindref="member">m_ParticleExit</ref>,<sp/><ref refid="class_eff_bullet_impact_base_1a3c93a351aba15589abb820eb72fb3305" kindref="member">m_ExitPos</ref>);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a293d17757efb01b71223616dfd0b14dc" kindref="member">m_OutSpeed</ref>.<ref refid="classvector_1aed751dee971a2a172f3052c68f607111" kindref="member">VectorToAngles</ref>();</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/>particle_orientation<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;0<sp/>-90<sp/>0&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.SetOrientation(particle_orientation);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a82d55850e109b39ea611b011b61dfa6c" kindref="member">OnExitCalculations</ref>(p,<sp/>outSpeedf);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref><sp/>!=<sp/><ref refid="class_eff_bullet_impact_base_1a27738a12b61b0144a61c024903a50f55" kindref="member">INVALID</ref>)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>surfNormalN<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref>.<ref refid="classvector_1a1dd56c5821c2f52c4b6eb3f945950dbd" kindref="member">Normalized</ref>();</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>inSpeedN<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1afe16a8df96c10885dd2dea493ffaf234" kindref="member">m_InSpeed</ref>.<ref refid="classvector_1a1dd56c5821c2f52c4b6eb3f945950dbd" kindref="member">Normalized</ref>();</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>bounce_ori<sp/>=<sp/>surfNormalN<sp/>+<sp/>inSpeedN;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dot<sp/>=<sp/><ref refid="classvector" kindref="compound">vector</ref>.<ref refid="classvector_1a69fa0e44e84719ecd8f98b99fddf1d92" kindref="member">Dot</ref>(bounce_ori,<sp/>surfNormalN);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>dot<sp/>&gt;<sp/><ref refid="class_eff_bullet_impact_base_1a8b1d698f7d0101fc837a083fd929a499" kindref="member">m_AngledEnter</ref><sp/>)</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>gPM.<ref refid="class_particle_1a5ec6964f64d31b2672001e99655ea8a0" kindref="member">PlayInWorld</ref>(<ref refid="class_eff_bullet_impact_base_1a760651af62198c83ed6b4ef33b0c5134" kindref="member">m_ParticleRicochet</ref>,<sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref>);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p)</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/>bounce_ori.<ref refid="classvector_1aed751dee971a2a172f3052c68f607111" kindref="member">VectorToAngles</ref>();</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/>particle_orientation<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;0<sp/>-90<sp/>0&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.SetOrientation(particle_orientation);</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_eff_bullet_impact_base_1a15310d1560480f29e49171a6bc4484de" kindref="member">OnEnterAngledCalculations</ref>(p);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_effect_particle_1a40400277d6a378d4397a867884a7932a" kindref="member">SetParticle</ref>(p);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Additional<sp/>impact<sp/>particle<sp/>over<sp/>long<sp/>ranges.<sp/>It<sp/>shows<sp/>players<sp/>where<sp/>their<sp/>bullets<sp/>land</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="_json_data_contaminated_area_8c_1a651a3c9de2e16ff0deca8d09dedbda58" kindref="member">Type</ref>()<sp/>!=<sp/><ref refid="class_hit___meat_bones" kindref="compound">Hit_MeatBones</ref><sp/>)</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>camera_pos<sp/>=<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1aac4317657cc67639e24d8a1b020ef454" kindref="member">GetCurrentCameraPosition</ref>();</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>distance<sp/>=<sp/><ref refid="classvector" kindref="compound">vector</ref>.<ref refid="classvector_1aad57f4c847a6ad08cf88f390961dd2db" kindref="member">Distance</ref>(camera_pos,<sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref>);</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Additional<sp/>size<sp/>increase<sp/>by<sp/>distance<sp/>from<sp/>camera</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>scaling_by_distance<sp/>=<sp/>distance<sp/>*<sp/>0.01;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>scale<sp/>down<sp/>the<sp/>above<sp/>size<sp/>increase<sp/>by<sp/>player&apos;s<sp/>zoom-in<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>current_FOV<sp/>=<sp/><ref refid="class_camera" kindref="compound">Camera</ref>.GetCurrentFOV();</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>config_FOV<sp/>=<sp/><ref refid="_day_z_game_8c_1a92f5918ec5d632d5159c9d1f52fe7758" kindref="member">GetDayZGame</ref>().GetUserFOVFromConfig();</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>FOV_scale<sp/>=<sp/>current_FOV<sp/>/<sp/>config_FOV;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scaling_by_distance<sp/>=<sp/>1<sp/>+<sp/>scaling_by_distance<sp/>*<sp/>FOV_scale;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(scaling_by_distance<sp/>&gt;<sp/>1.1)</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_particle" kindref="compound">Particle</ref><sp/>p_distant<sp/>=<sp/>gPM.<ref refid="class_particle_1a5ec6964f64d31b2672001e99655ea8a0" kindref="member">PlayInWorld</ref>(<ref refid="class_particle_list" kindref="compound">ParticleList</ref>.<ref refid="class_particle_list_1a317fbba13736b606f77c770097f9328a" kindref="member">IMPACT_DISTANT_DUST</ref>,<sp/><ref refid="class_eff_bullet_impact_base_1afc5bf64574ba1c1a0f1bcc6c3f39f74d" kindref="member">m_Pos</ref>);</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation<sp/>=<sp/><ref refid="class_eff_bullet_impact_base_1a018ee92abd39eb02391387b7b3cecef3" kindref="member">m_SurfNormal</ref>.<ref refid="classvector_1aed751dee971a2a172f3052c68f607111" kindref="member">VectorToAngles</ref>();</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>particle_orientation[1]<sp/>=<sp/>particle_orientation[1]<sp/>+<sp/>270;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p_distant.SetOrientation(particle_orientation);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p_distant.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.SIZE,<sp/>scaling_by_distance<sp/>-<sp/>0.5);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p_distant.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.BIRTH_RATE,<sp/>scaling_by_distance<sp/>*<sp/>0.1);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p_distant.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.BIRTH_RATE_RND,<sp/>scaling_by_distance<sp/>*<sp/>0.1);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p_distant.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.LIFETIME,<sp/>scaling_by_distance<sp/>*<sp/>0.3);</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p_distant.<ref refid="class_particle_1a62bb55bfed66ae9383c605b22d62e1c9" kindref="member">ScaleParticleParam</ref>(<ref refid="group___particle_effect_1gae0fed29d09aa06a8ca33de9f2b039e4b" kindref="member">EmitorParam</ref>.LIFETIME_RND,<sp/>scaling_by_distance<sp/>*<sp/>0.3);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="341"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="J:/SavageModding/AI/ENFORCE_TRAINING/WORKSPACE/DOXYGEN/raw/scripts/3_Game/Effects/EffectParticle/BulletImpactBase.c"/>
  </compounddef>
</doxygen>
