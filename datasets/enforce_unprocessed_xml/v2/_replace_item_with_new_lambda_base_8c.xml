<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.7" xml:lang="en-US">
  <compounddef id="_replace_item_with_new_lambda_base_8c" kind="file" language="C++">
    <compoundname>ReplaceItemWithNewLambdaBase.c</compoundname>
    <innerclass refid="class_replace_item_with_new_lambda_base" prot="public">ReplaceItemWithNewLambdaBase</innerclass>
    <innerclass refid="class_item_inventory" prot="public">ItemInventory</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="4" refid="class_replace_item_with_new_lambda_base" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_replace_item_with_new_lambda_base" kindref="compound">ReplaceItemWithNewLambdaBase</ref></highlight></codeline>
<codeline lineno="5"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6" refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>;</highlight></codeline>
<codeline lineno="7" refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref>;</highlight></codeline>
<codeline lineno="8" refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/>ref<sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref><sp/><ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>;</highlight></codeline>
<codeline lineno="9" refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/>ref<sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>;</highlight></codeline>
<codeline lineno="10" refid="class_replace_item_with_new_lambda_base_1a6b9923f002292430dc01d82d72251295" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a6b9923f002292430dc01d82d72251295" kindref="member">m_RemoveFromLocationPassed</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="11" refid="class_replace_item_with_new_lambda_base_1a1b63c7e5065dadb16b898a6ba803b6c0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a1b63c7e5065dadb16b898a6ba803b6c0" kindref="member">m_RemoveNetworkObjectInfoPassed</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="class_replace_item_with_new_lambda_base_1a04ab085ec82d217af28c9bbb38dc4d06" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a04ab085ec82d217af28c9bbb38dc4d06" kindref="member">ReplaceItemWithNewLambdaBase</ref>(<ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>old_item,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>new_item_type)</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref><sp/>=<sp/>old_item;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref><sp/>=<sp/>new_item_type;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="class_replace_item_with_new_lambda_base_1a0eafe72f321980708632d63e465e4c1f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0eafe72f321980708632d63e465e4c1f" kindref="member">OverrideNewLocation</ref>(<ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref><sp/>newLocation)</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref><sp/>=<sp/>newLocation;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="24" refid="class_replace_item_with_new_lambda_base_1ad4528b1503636aa04f368d53d67c934a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1ad4528b1503636aa04f368d53d67c934a" kindref="member">VerifyItemTypeBySlotType</ref>()<sp/>{}</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="class_replace_item_with_new_lambda_base_1a99acd0c7b7f282cc4080e128108ad5cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a99acd0c7b7f282cc4080e128108ad5cc" kindref="member">WantCreateNewEntity</ref>()</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref><sp/>&amp;&amp;<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref><sp/>!=<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">.<ref refid="group___strings_1gaac43f66a696ccf4455ea484c847572a5" kindref="member">Empty</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31" refid="class_replace_item_with_new_lambda_base_1a12f23615e7ad14291aee45cbcc96fb44" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a12f23615e7ad14291aee45cbcc96fb44" kindref="member">CanExecuteLambda</ref>()</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>)</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_inventory" kindref="compound">GameInventory</ref>.<ref refid="class_game_inventory_1aa29cd369a0095cd09c35b5e590179df0" kindref="member">LocationCanRemoveEntity</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>))</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(WantCreateNewEntity()<sp/>GameInventory.LocationTestAddEntityType(m_NewItemType,<sp/>true,<sp/>true,<sp/>false,<sp/>true))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="class_replace_item_with_new_lambda_base_1a88c3be7662eef14b6815953560825f6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a88c3be7662eef14b6815953560825f6c" kindref="member">PrepareLocations</ref>()</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>A)<sp/>Prepare<sp/>inventory<sp/>locations,<sp/>old_item=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref>;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>.GetInventory().GetCurrentInventoryLocation(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>))<sp/></highlight><highlight class="comment">//<sp/>A.1)<sp/>store<sp/>old<sp/>location</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref><sp/>==<sp/>null)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1ac60e6f81003325ccbac08805c7ffd3c9" kindref="member">CopyLocationFrom</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>A.2)<sp/>prepare<sp/>new<sp/>location<sp/>from<sp/>old</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//setting<sp/>proper<sp/>location<sp/>type<sp/>for<sp/>ground<sp/>pos</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a99b6490f5adbcfdc8f2a2bf5c7e28688" kindref="member">GetParent</ref>())</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classvector" kindref="compound">vector</ref><sp/>m4[4];</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_math3_d" kindref="compound">Math3D</ref>.<ref refid="group___math3_d_a_p_i_1gad69368d7b5e1fcc6c3c8517d43adb443" kindref="member">MatrixIdentity4</ref>(m4);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m4[3]<sp/>=<sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a906d41375601475af387e1baf82b7872" kindref="member">GetPos</ref>();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="_option_selector_multistate_8c_1a46c20eb2a26abeb1e934cd66e1dd6484" kindref="member">path</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="group___menu_i_d_1ga4eefa6610d914e19744cb7e377171479" kindref="member">CFG_VEHICLESPATH</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>inherit_rotation&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>keep_rotation<sp/>=<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1a695ee3660617e5c93977e17515d4ac98" kindref="member">ConfigIsExisting</ref>(<ref refid="_option_selector_multistate_8c_1a46c20eb2a26abeb1e934cd66e1dd6484" kindref="member">path</ref>)<sp/>&amp;&amp;<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1a6eee6ed69bdddfffe82d37e92603b2ab" kindref="member">ConfigGetInt</ref>(<ref refid="_option_selector_multistate_8c_1a46c20eb2a26abeb1e934cd66e1dd6484" kindref="member">path</ref>)<sp/>&gt;<sp/>0;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>.<ref refid="class_inventory_location_1af47a618941989bcedd7ee33dd3c45721" kindref="member">GetType</ref>()<sp/>==<sp/><ref refid="_inventory_location_8c_1ad09049fb2b99c763369bfe6228aa81b3" kindref="member">InventoryLocationType</ref>.GROUND<sp/>&amp;&amp;<sp/>keep_rotation)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dir[4];</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>.<ref refid="class_inventory_location_1af70ee9b17c9d4bf0a017c084f44ed2e2" kindref="member">GetDir</ref>(dir);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a29a2cfba56bdc6e5e907d5887ecaa02c" kindref="member">SetGroundEx</ref>(null,<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a906d41375601475af387e1baf82b7872" kindref="member">GetPos</ref>(),dir);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1aaa08a01038297771eba7c209c882d551" kindref="member">SetGround</ref>(null,m4);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1ga786b160dafbe15abb829786ba345cb15" kindref="member">Error</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>A.1)<sp/>failed<sp/>to<sp/>get<sp/>old_item<sp/>inventory<sp/>location&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="class_replace_item_with_new_lambda_base_1a00058a3a3b3c2370caea6fbb20b89539" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a00058a3a3b3c2370caea6fbb20b89539" kindref="member">RemoveOldItemFromLocation</ref>()</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_game_inventory" kindref="compound">GameInventory</ref>.<ref refid="class_game_inventory_1a2a91047fe8db368ad86e4c8dd307982f" kindref="member">LocationRemoveEntity</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>))<sp/></highlight><highlight class="comment">//<sp/>B)<sp/>remove<sp/>entity<sp/>from<sp/>old<sp/>inventory<sp/>location<sp/>(making<sp/>it<sp/>free<sp/>for<sp/>new<sp/>item)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1ga786b160dafbe15abb829786ba345cb15" kindref="member">Error</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>B)<sp/>failed<sp/>to<sp/>remove<sp/>old_item<sp/>rom<sp/>current<sp/>inventory<sp/>location&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a6b9923f002292430dc01d82d72251295" kindref="member">m_RemoveFromLocationPassed</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1gaaa9351d895a1f244a26fd635c378c536" kindref="member">Print</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>B)<sp/>remove<sp/>OK,<sp/>loc=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref>.<ref refid="class_inventory_location_1a1f3b481a816f2bae9fc880483ffca408" kindref="member">DumpToStringNullSafe</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>));</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a6b9923f002292430dc01d82d72251295" kindref="member">m_RemoveFromLocationPassed</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96" refid="class_replace_item_with_new_lambda_base_1a0507f638eac3dba53f74fa6cf97ca4b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0507f638eac3dba53f74fa6cf97ca4b3" kindref="member">UndoRemoveOldItemFromLocation</ref>()</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_game_inventory" kindref="compound">GameInventory</ref>.<ref refid="class_game_inventory_1af42037684bfb5160a6ce5bdcd85065a4" kindref="member">LocationAddEntity</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>))<sp/></highlight><highlight class="comment">//<sp/>B)<sp/>undo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1ga786b160dafbe15abb829786ba345cb15" kindref="member">Error</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>B)<sp/>failed<sp/>to<sp/>undo<sp/>remove&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1gaaa9351d895a1f244a26fd635c378c536" kindref="member">Print</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>B)<sp/>undo<sp/>remove<sp/>OK,<sp/>loc=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref>.<ref refid="class_inventory_location_1a1f3b481a816f2bae9fc880483ffca408" kindref="member">DumpToStringNullSafe</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>));</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="class_replace_item_with_new_lambda_base_1a759f9da4849f27c72a5a9e18928670a3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a759f9da4849f27c72a5a9e18928670a3" kindref="member">RemoveNetworkObjectInfo</ref>()</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1a6d61e518902354e4427f2c8a26cac7cf" kindref="member">RemoteObjectTreeDelete</ref>(<ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>);<sp/></highlight><highlight class="comment">//<sp/>C)<sp/>this<sp/>forces<sp/>server<sp/>to<sp/>send<sp/>DeleteObject<sp/>Message<sp/>to<sp/>client.<sp/>This<sp/>is<sp/>needed<sp/>for<sp/>preserving<sp/>the<sp/>appearance<sp/>of<sp/>network<sp/>operations<sp/>on<sp/>client<sp/>(so<sp/>that<sp/>DeleteObject(old)<sp/>arrives<sp/>before<sp/>CreateVehicle(new)).<sp/>@NOTE:<sp/>this<sp/>does<sp/>not<sp/>delete<sp/>the<sp/>object<sp/>on<sp/>server,<sp/>only<sp/>it&apos;s<sp/>network<sp/>representation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>@NOTE:<sp/>the<sp/>item<sp/>is<sp/>not<sp/>deleted<sp/>right<sp/>now<sp/>on<sp/>server,<sp/>but<sp/>rather<sp/>after<sp/>copying<sp/>the<sp/>properties<sp/>in<sp/>Step<sp/>E)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a1b63c7e5065dadb16b898a6ba803b6c0" kindref="member">m_RemoveNetworkObjectInfoPassed</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="113" refid="class_replace_item_with_new_lambda_base_1aa87e8e4cc88e0386a538c67735b6df45" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1aa87e8e4cc88e0386a538c67735b6df45" kindref="member">UndoRemoveNetworkObjectInfo</ref>()</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1ac835f69e4101541c7ead031d412f10ab" kindref="member">RemoteObjectTreeCreate</ref>(<ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="123" refid="class_replace_item_with_new_lambda_base_1acc42fece218c88776f137fbd9883057a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/><ref refid="class_replace_item_with_new_lambda_base_1acc42fece218c88776f137fbd9883057a" kindref="member">CreateNewEntity</ref>()</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a99acd0c7b7f282cc4080e128108ad5cc" kindref="member">WantCreateNewEntity</ref>())</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ad4528b1503636aa04f368d53d67c934a" kindref="member">VerifyItemTypeBySlotType</ref>();</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>new_item;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1af47a618941989bcedd7ee33dd3c45721" kindref="member">GetType</ref>())</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_inventory_location_8c_1ad09049fb2b99c763369bfe6228aa81b3" kindref="member">InventoryLocationType</ref>.GROUND:</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_item<sp/>=<sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref>.Cast(<ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().CreateObjectEx(<ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref>,<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a906d41375601475af387e1baf82b7872" kindref="member">GetPos</ref>(),<ref refid="_central_economy_8c_1a4389063907bd8acede7114e3887d6102" kindref="member">ECE_PLACE_ON_SURFACE</ref>|<ref refid="_central_economy_8c_1a3ccbd5dade671e8d228329395ec78ec2" kindref="member">ECE_LOCAL</ref>));</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="_option_selector_multistate_8c_1a46c20eb2a26abeb1e934cd66e1dd6484" kindref="member">path</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="group___menu_i_d_1ga4eefa6610d914e19744cb7e377171479" kindref="member">CFG_VEHICLESPATH</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>inherit_rotation&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>keep_rotation<sp/>=<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1a695ee3660617e5c93977e17515d4ac98" kindref="member">ConfigIsExisting</ref>(<ref refid="_option_selector_multistate_8c_1a46c20eb2a26abeb1e934cd66e1dd6484" kindref="member">path</ref>)<sp/>&amp;&amp;<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1a6eee6ed69bdddfffe82d37e92603b2ab" kindref="member">ConfigGetInt</ref>(<ref refid="_option_selector_multistate_8c_1a46c20eb2a26abeb1e934cd66e1dd6484" kindref="member">path</ref>)<sp/>&gt;<sp/>0;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(keep_rotation)</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_item.SetOrientation(<ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>.GetOrientation());<sp/></highlight><highlight class="comment">//this<sp/>one<sp/>actually<sp/>works...debug<sp/>InventoryLocation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_inventory_location_8c_1ad09049fb2b99c763369bfe6228aa81b3" kindref="member">InventoryLocationType</ref>.ATTACHMENT:</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>forces<sp/>rawlocation<sp/>in<sp/>C++<sp/>to<sp/>make<sp/>location<sp/>Valid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a844f213574a12ef6d95e269feeb35cef" kindref="member">SetAttachment</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a99b6490f5adbcfdc8f2a2bf5c7e28688" kindref="member">GetParent</ref>(),<sp/>null,<sp/><ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>.<ref refid="class_inventory_location_1a50993cb28f32ef7e6a03988d9752cda4" kindref="member">GetSlot</ref>());</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_item<sp/>=<sp/><ref refid="class_game_inventory" kindref="compound">GameInventory</ref>.<ref refid="class_game_inventory_1af2765cd9720db7ed8b768e7e36838b1b" kindref="member">LocationCreateEntity</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>,<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref>,<sp/><ref refid="_central_economy_8c_1a237dbb4ebe003efc8551d727dd98c525" kindref="member">ECE_OBJECT_SWAP</ref>,<sp/><ref refid="_central_economy_8c_1a1dc0b08b574388e56d66bcd8b075753c" kindref="member">RF_NONE</ref>);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_item<sp/>=<sp/><ref refid="class_game_inventory" kindref="compound">GameInventory</ref>.<ref refid="class_game_inventory_1aaf3ee90e8a5cc80b631e2e1d2e03ddea" kindref="member">LocationCreateLocalEntity</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>,<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref>,<sp/><ref refid="_central_economy_8c_1a237dbb4ebe003efc8551d727dd98c525" kindref="member">ECE_OBJECT_SWAP</ref>,<sp/><ref refid="_central_economy_8c_1a1dc0b08b574388e56d66bcd8b075753c" kindref="member">RF_NONE</ref>);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>D)<sp/>Created<sp/>new<sp/>new_item=&quot;</highlight><highlight class="normal"><sp/>+<sp/>new_item);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_item)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>new_item;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>null;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*InventoryLocation<sp/>backupLocation<sp/>=<sp/>new<sp/>InventoryLocation;</highlight></codeline>
<codeline lineno="161"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vector<sp/>mtx[4];</highlight></codeline>
<codeline lineno="162"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Math3D.MatrixIdentity4(mtx);</highlight></codeline>
<codeline lineno="163"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtx[3]<sp/>=<sp/>m_OldItem.GetPosition();</highlight></codeline>
<codeline lineno="164"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>backupLocation.SetGround(null,<sp/>mtx);</highlight></codeline>
<codeline lineno="165"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hndDebugPrint(&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>D)<sp/>plan<sp/>B<sp/>-<sp/>creating=&quot;<sp/>+<sp/>m_NewItemType<sp/>+<sp/>&quot;<sp/>at<sp/>bkp<sp/>loc=&quot;<sp/>+<sp/>backupLocation.DumpToString()<sp/>+<sp/>&quot;,<sp/>but<sp/>failed&quot;);</highlight></codeline>
<codeline lineno="166"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_item<sp/>=<sp/>GameInventory.LocationCreateLocalEntity(backupLocation,<sp/>m_NewItemType,ECE_OBJECT_SWAP,RF_NONE);<sp/>//<sp/>create<sp/>LOCAL<sp/>new<sp/>one<sp/>on<sp/>ground</highlight></codeline>
<codeline lineno="167"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!new_item)</highlight></codeline>
<codeline lineno="168"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Error(&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>D)<sp/>plan<sp/>B<sp/>-<sp/>wanted<sp/>to<sp/>create=&quot;<sp/>+<sp/>m_NewItemType<sp/>+<sp/>&quot;<sp/>at<sp/>bkp<sp/>loc=&quot;<sp/>+<sp/>backupLocation.DumpToString()<sp/>+<sp/>&quot;,<sp/>but<sp/>failed&quot;);</highlight></codeline>
<codeline lineno="170"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>null;</highlight></codeline>
<codeline lineno="171"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>new_item;*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>user<sp/>did<sp/>not<sp/>asked<sp/>for<sp/>new<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>null;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="185" refid="class_replace_item_with_new_lambda_base_1ad27d8c6400cc4753e747905e49194804" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1ad27d8c6400cc4753e747905e49194804" kindref="member">CopyOldPropertiesToNew</ref>(notnull<sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>old_item,<sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>new_item)</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>E)<sp/>Copying<sp/>props<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>old_item<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>--&gt;<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>new_item);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="193" refid="class_replace_item_with_new_lambda_base_1a54b05ff436df5120ffc746da8c315226" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a54b05ff436df5120ffc746da8c315226" kindref="member">DeleteOldEntity</ref>()</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>F)<sp/>delete<sp/>old<sp/>item=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>.DeleteSafe();</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="204" refid="class_replace_item_with_new_lambda_base_1afb1a52e3ad5d276f7acc7cf4cf57a6f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1afb1a52e3ad5d276f7acc7cf4cf57a6f3" kindref="member">CreateNetworkObjectInfo</ref>(<ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>new_item)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>G)<sp/>CreateNetworkObjectInfo<sp/>=&quot;</highlight><highlight class="normal"><sp/>+<sp/>new_item);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_item)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1ac835f69e4101541c7ead031d412f10ab" kindref="member">RemoteObjectTreeCreate</ref>(new_item);<sp/></highlight><highlight class="comment">//<sp/>G)<sp/>this<sp/>forces<sp/>server<sp/>to<sp/>send<sp/>CreateVehicle<sp/>Message<sp/>to<sp/>client.<sp/>This<sp/>is<sp/>needed<sp/>for<sp/>preserving<sp/>the<sp/>appearance<sp/>of<sp/>network<sp/>operations<sp/>on<sp/>client<sp/>(so<sp/>that<sp/>DeleteObject(old)<sp/>arrives<sp/>before<sp/>CreateVehicle(new)).<sp/>@NOTE:<sp/>this<sp/>does<sp/>not<sp/>delete<sp/>the<sp/>object<sp/>on<sp/>server,<sp/>only<sp/>it&apos;s<sp/>network<sp/>representation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="216" refid="class_replace_item_with_new_lambda_base_1a53309785a270c94f4cc3b14fe9807031" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a53309785a270c94f4cc3b14fe9807031" kindref="member">OnSuccess</ref>(<ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>new_item)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>H)<sp/>OnSuccess=&quot;</highlight><highlight class="normal"><sp/>+<sp/>new_item);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="226" refid="class_replace_item_with_new_lambda_base_1ae7431e040feb9a99c2519c80548d2764" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae7431e040feb9a99c2519c80548d2764" kindref="member">OnAbort</ref>()</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1gaaa9351d895a1f244a26fd635c378c536" kindref="member">Print</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>OnAbort&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="class_replace_item_with_new_lambda_base_1ac795ae1b483832de860ef6181e403831" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1ac795ae1b483832de860ef6181e403831" kindref="member">Execute</ref>(<ref refid="class_human_inventory_with_f_s_m" kindref="compound">HumanInventoryWithFSM</ref><sp/>fsm_to_notify<sp/>=<sp/>null)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>t<sp/>=<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1aaef5e82614e886a86023cbdc7e85ca47" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[syncinv]<sp/>t=&quot;</highlight><highlight class="normal"><sp/>+<sp/>t<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>lambda.Execute<sp/>start<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>A)<sp/>init</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>prepared<sp/>=<sp/><ref refid="class_replace_item_with_new_lambda_base_1a88c3be7662eef14b6815953560825f6c" kindref="member">PrepareLocations</ref>();</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(prepared<sp/>&amp;&amp;<sp/><ref refid="class_replace_item_with_new_lambda_base_1a12f23615e7ad14291aee45cbcc96fb44" kindref="member">CanExecuteLambda</ref>())</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>B)<sp/>rm<sp/>old<sp/>(and<sp/>delete<sp/>on<sp/>client)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a00058a3a3b3c2370caea6fbb20b89539" kindref="member">RemoveOldItemFromLocation</ref>();</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_replace_item_with_new_lambda_base_1a6b9923f002292430dc01d82d72251295" kindref="member">m_RemoveFromLocationPassed</ref>)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1ga786b160dafbe15abb829786ba345cb15" kindref="member">Error</ref>(</highlight><highlight class="stringliteral">&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>B)<sp/>ABORT<sp/>-<sp/>failed<sp/>while<sp/>rm<sp/>old<sp/>item<sp/>from<sp/>loc=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref>.<ref refid="class_inventory_location_1a1f3b481a816f2bae9fc880483ffca408" kindref="member">DumpToStringNullSafe</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a49fc50be1d4c3fe19e98a3dd5989e0d5" kindref="member">m_OldLocation</ref>));</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fsm_to_notify)</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fsm_to_notify.ProcessHandAbortEvent(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>HandEventHumanCommandActionAborted(fsm_to_notify.GetManOwner()));</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae7431e040feb9a99c2519c80548d2764" kindref="member">OnAbort</ref>();</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>C)<sp/>rm<sp/>NetworkObjectInfo<sp/>from<sp/>old<sp/>item<sp/>(+<sp/>send<sp/>delete<sp/>object<sp/>tree<sp/>to<sp/>clients)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a759f9da4849f27c72a5a9e18928670a3" kindref="member">RemoveNetworkObjectInfo</ref>();</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>D)<sp/>mk<sp/>new<sp/>in<sp/>place<sp/>of<sp/>old</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_entity_a_i" kindref="compound">EntityAI</ref><sp/>new_item<sp/>=<sp/><ref refid="class_replace_item_with_new_lambda_base_1acc42fece218c88776f137fbd9883057a" kindref="member">CreateNewEntity</ref>();</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a99acd0c7b7f282cc4080e128108ad5cc" kindref="member">WantCreateNewEntity</ref>()<sp/>&amp;&amp;<sp/>new_item<sp/>==<sp/>null)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Error(&quot;[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>D)<sp/>ABORT<sp/>-<sp/>wanted<sp/>to<sp/>create=&quot;<sp/>+<sp/>m_NewItemType<sp/>+<sp/>&quot;<sp/>at<sp/>loc=&quot;<sp/>+<sp/>m_NewLocation.DumpToString()<sp/>+<sp/>&quot;,<sp/>but<sp/>failed&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1gaaa9351d895a1f244a26fd635c378c536" kindref="member">Print</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>[inv]<sp/>ReplaceItemWithNewLambdaBase<sp/>Step<sp/>D)<sp/>ABORT<sp/>-<sp/>wanted<sp/>to<sp/>create=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>at<sp/>loc=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_inventory_location" kindref="compound">InventoryLocation</ref>.<ref refid="class_inventory_location_1a1f3b481a816f2bae9fc880483ffca408" kindref="member">DumpToStringNullSafe</ref>(<ref refid="class_replace_item_with_new_lambda_base_1a0be66c2892ca2d873f2376fac3011a77" kindref="member">m_NewLocation</ref>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>but<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a6b9923f002292430dc01d82d72251295" kindref="member">m_RemoveFromLocationPassed</ref>)</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a0507f638eac3dba53f74fa6cf97ca4b3" kindref="member">UndoRemoveOldItemFromLocation</ref>();</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_replace_item_with_new_lambda_base_1a1b63c7e5065dadb16b898a6ba803b6c0" kindref="member">m_RemoveNetworkObjectInfoPassed</ref>)</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1aa87e8e4cc88e0386a538c67735b6df45" kindref="member">UndoRemoveNetworkObjectInfo</ref>();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae7431e040feb9a99c2519c80548d2764" kindref="member">OnAbort</ref>();</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fsm_to_notify)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fsm_to_notify.ProcessHandAbortEvent(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>HandEventHumanCommandActionAborted(fsm_to_notify.GetManOwner()));</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>E)<sp/>cpy<sp/>props</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ad27d8c6400cc4753e747905e49194804" kindref="member">CopyOldPropertiesToNew</ref>(<ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref>,<sp/>new_item);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>F)<sp/>del<sp/>old</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a54b05ff436df5120ffc746da8c315226" kindref="member">DeleteOldEntity</ref>();</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>G)<sp/>mk<sp/>new<sp/>NetworkObjectInfo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1afb1a52e3ad5d276f7acc7cf4cf57a6f3" kindref="member">CreateNetworkObjectInfo</ref>(new_item);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>H)<sp/>notification</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1a53309785a270c94f4cc3b14fe9807031" kindref="member">OnSuccess</ref>(new_item);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group___debug_1gaaa9351d895a1f244a26fd635c378c536" kindref="member">Print</ref>(</highlight><highlight class="stringliteral">&quot;[syncinv]<sp/>warning,<sp/>lambda<sp/>cannot<sp/>be<sp/>executed,<sp/>skipping!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fsm_to_notify)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fsm_to_notify.ProcessHandAbortEvent(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>HandEventHumanCommandActionAborted(fsm_to_notify.GetManOwner()));</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_replace_item_with_new_lambda_base_1ae7431e040feb9a99c2519c80548d2764" kindref="member">OnAbort</ref>();</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>te<sp/>=<sp/><ref refid="gameplay_8c_1aebb1fa6632d513bc849994e7b6c9c93d" kindref="member">GetGame</ref>().<ref refid="class_c_game_1aaef5e82614e886a86023cbdc7e85ca47" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dt<sp/>=<sp/>te<sp/>-<sp/>t;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_hand_f_s_m_8c_1a4d1ced2805a0b33fc2d7a5ae1300b53b" kindref="member">hndDebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;[syncinv]<sp/>te=&quot;</highlight><highlight class="normal"><sp/>+<sp/>te<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>lambda.Execute<sp/>end,<sp/>exec<sp/>time=&quot;</highlight><highlight class="normal"><sp/>+<sp/>dt);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298" refid="class_replace_item_with_new_lambda_base_1a2109e6a552a81b873bb239392d7795e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_replace_item_with_new_lambda_base_1a2109e6a552a81b873bb239392d7795e7" kindref="member">DumpToString</ref>()</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>s<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;{<sp/>old=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1ae41d261c1e51903ff333b0c99dbd7dc7" kindref="member">m_OldItem</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>newType=&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_replace_item_with_new_lambda_base_1aed3d54805617f43783f003092fd20dbb" kindref="member">m_NewItemType</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;}&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal">};</highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306" refid="class_item_inventory" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_item_inventory" kindref="compound">ItemInventory</ref><sp/>:<sp/><ref refid="class_game_inventory" kindref="compound">GameInventory</ref></highlight></codeline>
<codeline lineno="307"><highlight class="normal">{</highlight></codeline>
<codeline lineno="308"><highlight class="normal">};</highlight></codeline>
    </programlisting>
    <location file="J:/SavageModding/AI/ENFORCE_TRAINING/WORKSPACE/DOXYGEN/raw/scripts/3_Game/Systems/Inventory/ReplaceItemWithNewLambdaBase.c"/>
  </compounddef>
</doxygen>
